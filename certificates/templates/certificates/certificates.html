{% extends "base.html" %}

{% block content_name %}

<h2>Certificates Page</h2>

    <form action="{% url 'certificates:certificates' %}" method="POST">

        {% csrf_token %}
        <input type="submit" name="query_db_certs" value="List Certificates in order of expiration">

    </form>

{% if cert_clientssl_virtualserver %}

    <p>Certificaten op basis van Client SSL profielen:</p>

    <p><table>

        <tr>
            <th>Cert Name</th>
            <th>Cert Partition</th>
            <th>Cert Expiration</th>
            <th>Cert Cluster</th>
            <th>CSSL Profile Name</th>
            <th>CSSL Partition</th>
            <th>Virtual Server Name</th>
            <th>Virtual Server Partition</th>
            <th>Virtual Server Destination</th>
        </tr>

        {% for certificate in cert_clientssl_virtualserver %}

            <tr>
                <td>{{ certificate.cert_name }}</td>
                <td>{{ certificate.cert_partition }}</td>
                <td>{{ certificate.cert_expiration }}</td>
                <td>{{ certificate.cert_cluster }}</td>
                <td>{{ certificate.cssl_name }}</td>
                <td>{{ certificate.cssl_partition}}</td>
                <td>{{ certificate.vs_name }}</td>
                <td>{{ certificate.vs_partition }}</td>
                <td>{{ certificate.vs_ip }}</td>
         </tr>
        {% endfor %}


    </table></p></p>

{% endif %}

{% if cert_serverssl_virtualserver %}

    <p>Certificaten op basis van Server SSL profielen:</p>

    <p><table>

        <tr>
            <th>Cert Name</th>
            <th>Cert Partition</th>
            <th>Cert Expiration</th>
            <th>Cert Cluster</th>
            <th>Server SSL Profile Name</th>
            <th>Server SSL Partition</th>
            <th>Virtual Server Name</th>
            <th>Virtual Server Partition</th>
            <th>Virtual Server Destination</th>
        </tr>

        {% for certificate in cert_serverssl_virtualserver %}

            <tr>
                <td>{{ certificate.cert_name }}</td>
                <td>{{ certificate.cert_partition }}</td>
                <td>{{ certificate.cert_expiration }}</td>
                <td>{{ certificate.cert_cluster }}</td>
                <td>{{ certificate.server_ssl_name }}</td>
                <td>{{ certificate.server_ssl_partition}}</td>
                <td>{{ certificate.vs_name }}</td>
                <td>{{ certificate.vs_partition }}</td>
                <td>{{ certificate.vs_ip }}</td>
         </tr>
        {% endfor %}


    </table></p>

{% endif %}


{% endblock %}